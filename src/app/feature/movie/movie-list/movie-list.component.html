<app-menu></app-menu>
<div class="p-4">
  <section class="heading">
    <span class="page-title font-weight-bold font-italic">{{ title }}</span>
    <a routerLink="/movie-create">
      <img *ngIf="this.isAdmin" width="20" height="20" src="images/add-icon.png" title="Add New" />
    </a>
    <span style="
      float: right;
      padding-right: 30px;
      font-style: italic;
      font-weight: bold;
    ">{{ welcomeMsg }}</span>
  </section>
  <table *ngIf="movies" class="table table-striped table-hover">
    <thead>
      <th><a (click)="sortBy('id')">Id</a></th>
      <th><a (click)="sortBy('id')">Title</a></th>
      <th><a (click)="sortBy('id')">Year</a></th>
      <th><a (click)="sortBy('id')">Rating</a></th>
      <th><a (click)="sortBy('id')">Director</a></th>
      <th>Action</th>
    </thead>
    <tbody>
      <tr *ngFor="let m of movies | sort: sortCriteria: sortOrder">
        <td>{{ m.id }}</td>
        <td>{{ m.title }}</td>
        <td>{{ m.year }}</td>
        <td>{{ m.rating }}</td>
        <td>{{ m.director }}</td>
        <td>
          <a *ngIf="this.isAdmin" routerLink="/movie-edit/{{ m.id }}">
            <img
              src="images/pencil-icon.png"
              width="20"
              height="20"
              title="Edit Movie"
          /></a>
          |
          <a routerLink="/movie-detail/{{ m.id }}">
            <img
              src="images/details.png"
              width="20"
              height="20"
              title="Movie Details"
            />
          </a>
          | 
          <a *ngIf="this.isAdmin">
            <img
              src="images/delete.jpg"
              width="20"
              height="20"
              title="Delete Movie"
              (click)="delete(m.id)"
            />
          </a>
          |
          <a routerLink="/movie-credits/{{ m.id }}">
            <img
              src="images/lines.png"
              width="20"
              height="20"
              title="Movie Credits"
            />
          </a>
        </td>
      </tr>
    </tbody>
  </table>
</div>
